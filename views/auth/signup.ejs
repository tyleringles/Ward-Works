<section class="auth-page">
  <div class="auth-card">
    <h1>Join the 15th YSA Ward Directory</h1>
    <p class="auth-subtitle">
      Create an account so leaders can contact you and keep records up to date.
    </p>

    <% 
      // errorMessage comes from authController.postSignup()
      // If the user submits invalid data (bad email, mismatched password, etc.)
      // the controller re-renders this page with a message.
    %>
    <% if (errorMessage) { %>
      <div class="auth-error"><%= errorMessage %></div>
    <% } %>

    <!-- 
      Submits to POST /auth/signup 
      authController.postSignup():
        1. Validates inputs (name, email, passwords)
        2. Creates a Member record
        3. Hashes the password
        4. Creates a User record
        5. Logs the new user in (creates req.session.user)
        6. Redirects to /members
    -->
    <form action="/auth/signup" method="POST" class="auth-form">

      <!-- firstName → becomes req.body.firstName -->
      <div class="auth-field">
        <label for="firstName">First Name</label>
        <input
          type="text"
          id="firstName"
          name="firstName"
          required
          placeholder="Tyler"
        />
      </div>

      <!-- lastName → req.body.lastName -->
      <div class="auth-field">
        <label for="lastName">Last Name</label>
        <input
          type="text"
          id="lastName"
          name="lastName"
          required
          placeholder="Ingles"
        />
      </div>

      <!-- email → req.body.email; validated in controller -->
      <div class="auth-field">
        <label for="email">Email</label>
        <input
          type="email"
          id="email"
          name="email"
          required
          placeholder="you@example.com"
        />
      </div>

      <!-- phone → optional, stored in Member record -->
      <div class="auth-field">
        <label for="phone">Phone</label>
        <input
          type="text"
          id="phone"
          name="phone"
          placeholder="555-123-4567"
        />
      </div>

      <!-- gender → goes into Member.gender -->
      <div class="auth-field">
        <label for="gender">Gender</label>
        <select id="gender" name="gender">
          <option value="unknown" selected>Prefer not to say</option>
          <option value="male">Male</option>
          <option value="female">Female</option>
          <option value="other">Other</option>
        </select>
      </div>

      <!-- password → req.body.password; hashed by controller -->
      <div class="auth-field">
        <label for="password">Password</label>
        <input
          type="password"
          id="password"
          name="password"
          required
          placeholder="••••••••"
        />
      </div>

      <!-- confirmPassword → compared by controller -->
      <div class="auth-field">
        <label for="confirmPassword">Confirm Password</label>
        <input
          type="password"
          id="confirmPassword"
          name="confirmPassword"
          required
          placeholder="••••••••"
        />
      </div>

      <div class="auth-actions">
        <button type="submit" class="ww-btn ww-btn-primary">Create Account</button>

        <!--  (no controller logic here, just loads page) -->
        <a href="/auth/login" class="ww-btn ww-btn-secondary">I already have an account</a>
      </div>

    </form>
  </div>
</section>
