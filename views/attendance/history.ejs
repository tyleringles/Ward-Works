<main class="ww-main">

  <header class="ww-page-header">
    <div>
      <h1>Attendance History</h1>
      <p class="ww-subtitle">
        View all recorded attendance entries for the ward.
      </p>
    </div>

    <div class="ww-header-actions">
      <!-- Link back to the "Take Attendance" page (GET /attendance) -->
      <a href="/attendance" class="ww-btn ww-btn-secondary">
        ← Back to Take Attendance
      </a>
    </div>
  </header>

  <section class="ww-card">

    <% 
      // "records" comes from attendanceController.history().
      // If no attendance exists in the DB, show a simple message.
    %>
    <% if (!records || records.length === 0) { %>

      <p>No attendance records have been saved yet.</p>

    <% } else { %>

      <table class="ww-table">
        <thead>
          <tr>
            <th>Date</th>
            <th>Member</th>
            <th>Present</th>
            <th>Notes</th>
          </tr>
        </thead>

        <tbody>

          <% 
            // Loop through all attendance records.
            // Each "rec" includes:
            //  - rec.date (string)
            //  - rec.present (boolean)
            //  - rec.notes
            //  - rec.member (populated Member document, may be null if deleted)
          %>
          <% records.forEach(rec => { %>

            <tr>

              <!-- Show date the record applies to -->
              <td><%= rec.date %></td>

              <td>
                <% 
                  // If the member still exists, link to their attendance history page.
                  // Route: GET /attendance/member/:id → attendanceController.memberHistory()
                %>
                <% if (rec.member) { %>

                  <a 
                    href="/attendance/member/<%= rec.member._id %>" 
                    class="ww-card-link"
                  >
                    <%= rec.member.lastName %>, <%= rec.member.firstName %>
                  </a>

                <% } else { %>

                  <!-- If the member was deleted, we still keep the attendance record -->
                  <span style="color:#9ca3af;">(member deleted)</span>

                <% } %>
              </td>

              <td>
                <% 
                  // Boolean display for attendance.
                  // This is stored in rec.present (true/false).
                %>
                <% if (rec.present) { %>
                  <span style="color:#15803d; font-weight:500;">Yes</span>
                <% } else { %>
                  <span style="color:#9ca3af;">No</span>
                <% } %>
              </td>

              <!-- Notes come directly from rec.notes (string or undefined)
